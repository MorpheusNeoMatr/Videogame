{% extends "layout.html" %}
{% block content %}

<div>
    <div class="profile-box">
        <img src="{{ url_for('static', filename='user_images/' ~ user.picture) }}" alt="Picture" class="profile-image">
        <p class="user-name">{{ user.name }}</p>
        <button onclick="showSection('games')">Games added</button>
        <button onclick="showSection('founders')">Founders added</button>
        <button onclick="showSection('companies')">Companies added</button>
        <button onclick="showSection('directors')">Directors added</button>
    </div>
</div>

<!-- Buttons to toggle the content -->
<div>
    
</div>

<!-- Sections that will be shown/hidden -->
<div id="games" class="section">
    <h3>Games added:</h3>
    <ul>
        {% if user_games %}
        {% for game in user_games %}
        <div class="item">
            <a href="/game/{{ game.id }}" class="item-link">
                {% if game.picture_1 %}
                <img src="{{ url_for('static', filename='games_images/' ~ game.picture_1) }}" alt="Games" class="image">
                {% else %}
                <img src="{{ url_for('static', filename='games_images/default_image.jpg') }}" alt="Default Game Picture" class="image">
                {% endif %}
                <div class="item-content">
                    <p>{{ game.name }}</p>
                </div>
            </a>
        </div>
        {% endfor %}
    {% else %}
        <p>You added no games <a href="/add_game">Add game?</a></p>
    {% endif %}
    </ul> 
</div>

<div id="founders" class="section" style="display:none;">
    <h3>Founders added:</h3>
    <ul>
        {% if user_founders %}
            {% for founder in user_founders %}
                <li><a href="/founder/{{ founder.id }}">{{ founder.name }}</a></li>
            {% endfor %}
        {% else %}
            <li>No founders added yet, <a href="/add_founder">Add founder?</a></li>
        {% endif %}
    </ul>
</div>

<div id="companies" class="section" style="display:none;">
    <h3>Companies added:</h3>
    <ul>
        {% if user_companies %}
            {% for company in user_companies %}
                <li><a href="/company/{{ company.id }}">{{ company.name }}</a></li>
            {% endfor %}
        {% else %}
            <li>No companies added yet, <a href="/add_company">Add company?</a></li>
        {% endif %}
    </ul>
</div>

<div id="directors" class="section" style="display:none;">
    <h3>Added directors:</h3>
    <ul>
        {% if user_directors %}
            {% for director in user_directors %}
                <li><a href="/director/{{ director.id }}">{{ director.name }}</a></li>
            {% endfor %}
        {% else %}
            <li>No directors added yet, <a href="/add_directors">Add director?</a></li>
        {% endif %}
    </ul>
</div>
{% endblock %}
